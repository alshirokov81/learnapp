(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8706:function(e,t,a){Promise.resolve().then(a.bind(a,742))},742:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var r=a(7437),l=a(6691),s=a.n(l),n=a(345),o=a.n(n),i=a(2265),c=e=>{let{markedTextArr:t}=e;return(0,r.jsx)("p",{className:o().textBox,children:t.map(e=>{let{textVal:t,markType:a}=e;switch(a){case"b":return(0,r.jsx)("b",{children:t});case"p":return(0,r.jsx)("span",{children:t});case"s":return(0,r.jsx)("s",{children:t})}})})},d=e=>{let{check:t,currentWord:a,setCurrentWord:l,description:s}=e,n=(0,i.useCallback)(e=>{e.preventDefault(),t()},[t]);if(!s)return null;let{hint:d,correctWord:u,correctedWordArr:p,mark:h}=s;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"WordChecker!"}),(0,r.jsxs)("p",{className:o().textBox,children:[d," Your mark = ",h]}),(0,r.jsx)("p",{className:o().textBox,children:u}),(0,r.jsx)(c,{markedTextArr:p}),(0,r.jsx)("form",{onSubmit:n,children:(0,r.jsx)("input",{type:"text",id:"fname",className:o().textBox,name:"fname",value:a,onChange:l})})]})},u=e=>{let{loadFunc:t,saveFunc:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{type:"button",onClick:t,children:"Upload new words"}),(0,r.jsx)("button",{type:"button",onClick:a,children:"Save words locally"})]})},p=e=>{let{word:{val:t,translation:a,successfullGuesses:l,unsuccessfullGuesses:s,mark:n},onItemClicked:i}=e;return(0,r.jsxs)("button",{id:t,onClick:i,className:o().wordButton,children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)("span",{children:" - "}),(0,r.jsx)("span",{children:a}),(0,r.jsxs)("span",{children:["       ","".concat(l,"/").concat(s)]}),(0,r.jsxs)("span",{children:["       ","".concat(n)]})]})},h=e=>{let{wordsList:t,onItemClicked:a}=e;return(0,r.jsx)("div",{className:o().wordsList,children:t.map(e=>(0,r.jsx)(p,{word:e,onItemClicked:a},e.val))})},x=(e,t,a)=>{let[r,l]=(0,i.useState)(""),[s,n]=(0,i.useState)((null==a?void 0:a.val)||""),[o,c]=(0,i.useState)((null==a?void 0:a.translation)||""),[d,u]=(0,i.useState)((null==a?void 0:a.hashTag)||"");(0,i.useEffect)(()=>{l((null==a?void 0:a.val)||""),n((null==a?void 0:a.val)||""),c((null==a?void 0:a.translation)||""),u((null==a?void 0:a.hashTag)||"")},[a]);let p=(0,i.useCallback)(e=>n(e.target.value),[n]),h=(0,i.useCallback)(e=>c(e.target.value),[c]),x=(0,i.useCallback)(e=>u(e.target.value),[u]),g=(0,i.useCallback)(()=>{e({val:s,translation:o,hashTag:d},r),n(""),c(""),u(""),l("")},[s,o,d]);return{word:s,changeWord:p,translation:o,changeTranslation:h,hashTag:d,changeHashTag:x,onSave:g,onDelete:()=>{t({val:s,translation:o})}}},g=e=>{let{currWord:t,saveWord:a,deleteWord:l}=e,{word:s,changeWord:n,translation:i,changeTranslation:c,hashTag:d,changeHashTag:u,onSave:p,onDelete:h}=x(a,l,t);return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",className:o().textBox,value:s,onChange:n}),(0,r.jsx)("input",{type:"text",className:o().textBox,value:i,onChange:c}),(0,r.jsx)("input",{type:"text",className:o().textBox,value:d,onChange:u}),(0,r.jsx)("button",{type:"button",disabled:!s,onClick:p,children:"Save word"}),(0,r.jsx)("button",{type:"button",disabled:!t,onClick:h,children:"Delete word"})]})},v=e=>{let[t,a]=(0,i.useState)(void 0);return{activeWord:t,onItemClicked:(0,i.useCallback)(t=>{var r;let l=t.target,s=(null==l?void 0:l.id)||(null==l?void 0:null===(r=l.parentElement)||void 0===r?void 0:r.id);console.log("itemId");let n=e.find(e=>e.val===s);n&&a(n),alert(JSON.stringify(n))},[a,e])}},m=e=>{let{wordsList:t,saveWord:a,deleteWord:l}=e,{activeWord:s,onItemClicked:n}=v(t);return(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{wordsList:t,onItemClicked:n}),(0,r.jsx)(g,{saveWord:a,deleteWord:l,currWord:s})]})},j=e=>{let{switchMode:t,buttonText:a}=e;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:t,children:a})})},b=e=>{let{hashTag:t,isSelected:a,onItemClicked:l}=e;return(0,r.jsx)("button",{id:t,onClick:l,className:"".concat(a?o().hashTagSelected:""," ").concat(o().hashTag),children:(0,r.jsxs)("span",{children:["#",t]})})},f=e=>{let{hashTagObj:t,onItemClicked:a}=e;return(0,r.jsx)("div",{className:o().hashTagList,children:Object.entries(t).sort((e,t)=>{let[a,r]=e,[l,s]=t;return+s-+r}).map(e=>{let[t,l]=e;return(0,r.jsx)(b,{isSelected:l,hashTag:t,onItemClicked:a},t)})})};let _=window,w=_&&_.localStorage,k={},y=()=>{let e=w&&w.getItem("wordsToLearnObj");return Object.values(k=!!e&&JSON.parse(e)||{})},C=(e,t)=>{let a={...k};t&&delete a[t],k={...a,[e.val]:e},w&&w.setItem("wordsToLearnObj",JSON.stringify(k))},S=e=>{let t={...k};delete t[e.val],w&&w.setItem("wordsToLearnObj",JSON.stringify(t))},T=e=>{w&&w.setItem("wordsToLearnObj",JSON.stringify(e))},O=async()=>{let e=JSON.stringify(k);var t=new Blob([e],{type:"text/plain"});if(_){let e=await _.showSaveFilePicker({suggestedName:"WordsToLearn.txt",types:[{description:"Simple Text File",accept:{"text/plain":[".txt"]}}]}),a=await e.createWritable();await a.write(t),await a.close()}},N=async()=>{if(_){let[e]=await window.showOpenFilePicker(),t=await e.getFile();return await t.text()}},L=(window,(e,t)=>{let a=[];console.log("analyzeWord0 ".concat(a));for(let r=0;r<e.length;r++)if(e[r]===t[r])a.push({textVal:e[r],markType:"p"});else{a.push({textVal:t.substring(r),markType:"s"});break}return a.push({textVal:t.substring(e.length),markType:"s"}),console.log("analyzeWord ".concat(a)),a});var W=()=>{let e=y(),[t,a]=(0,i.useState)(e),[r,l]=(0,i.useState)(""),[s,n]=(0,i.useState)({}),o=(0,i.useCallback)(e=>l(e.target.value),[l]),c=(0,i.useMemo)(()=>{let e=[],a=!1;for(let e of Object.values(s))if(e){a=!0;break}return a?(t.forEach(t=>{let{hashTag:a}=t;if(a){for(let r of a.split("#"))if(s[r]){e.push(t);break}}}),e):[...t]},[t,s]),d=(0,i.useMemo)(()=>{if(0===c.length)return;let{val:e,translation:t,mark:a=0,shouldBeRepeated:r=!1,lastErrorInText:l}=c[0];console.log("promptInfo ".concat(l));let s=r||a<1?e:"",n=l?L(s,l):[];return{hint:t,correctWord:s,correctedWordArr:n,mark:a}},[c]);(0,i.useEffect)(()=>{n(t.reduce((e,t)=>{let{hashTag:a}=t;return a&&a.split("#").forEach(t=>{t&&!e[t]&&(e[t]=s[t]||!1)}),e},{}))},[t,n]);let u=(0,i.useCallback)(e=>{var t;let a=e.target,r=(null==a?void 0:a.id)||(null==a?void 0:null===(t=a.parentElement)||void 0===t?void 0:t.id)||"";if(s.hasOwnProperty(r)){let e={...s};e[r]=!e[r],n(e)}},[s,n]),p=(0,i.useCallback)(()=>{let e=[...t].map((e,t)=>{let{val:a,translation:l,mark:s=0,successfullGuesses:n=0,unsuccessfullGuesses:o=0}=e;if(a===c[0].val){let t=r.trimStart().trimEnd();console.log("currWordTrimmed ".concat(t));let i=t===a,c={...e,val:a,translation:l,mark:i?s+1:s-2,shouldBeRepeated:!i,lastErrorInText:i?void 0:t,successfullGuesses:i?n+1:n,unsuccessfullGuesses:i?o:o+1};return C(c),c}return e}).sort((e,t)=>{let{mark:a=0}=e,{mark:r=0}=t;return a-r});a(e),l(""),console.log(t),console.log("***************"),console.log(e)},[t,c,a,r,l]),h=(0,i.useCallback)(async()=>{let e=JSON.parse(await N()||"");if("[object Object]"===Object.prototype.toString.call(e)){let t=Object.values(e);if(Array.isArray(t))t.forEach(e=>{if("[object Object]"!==Object.prototype.toString.call(e)){alert("incorrect array element format");return}if(e.hasOwnProperty("val")&&e.hasOwnProperty("translation")){if(!e.val||!e.translation){alert("empty value");return}}else{alert("incorrect object format");return}});else{alert("incorrect array");return}}else{alert("incorrect first level object format");return}T(e),a(Object.values(e))},[a]);return{check:p,currentWord:r,onWordInputChange:o,promptInfo:d,loadWordsFromTheFile:h,saveWordsToTheFile:(0,i.useCallback)(()=>{O()},[]),words:c,hashTagsObj:s,onHashTagClicked:u,saveWord:(0,i.useCallback)((e,t)=>{a(t=>[...t.filter(t=>t.val!==e.val),{...t.find(t=>t.val===e.val),...e}]),C(e,t)},[a]),deleteWord:(0,i.useCallback)(e=>{a(t=>t.filter(t=>{let{val:a}=t;return a!==e.val})),S(e)},[a])}},B=()=>{let[e,t]=(0,i.useState)(!0),a=(0,i.useCallback)(e=>{t(e=>!e)},[t]),r=(0,i.useMemo)(()=>e?"Add words":"Learn words",[e]);return{isLearnMode:e,switchMode:a,buttonName:r}};function E(){let{check:e,currentWord:t,onWordInputChange:a,promptInfo:l,loadWordsFromTheFile:n,saveWordsToTheFile:i,words:c,hashTagsObj:p,onHashTagClicked:h,saveWord:x,deleteWord:g}=W(),{isLearnMode:v,switchMode:b,buttonName:_}=B();return(0,r.jsx)("main",{className:o().main,children:(0,r.jsxs)("div",{className:o().description,children:[(0,r.jsx)(u,{loadFunc:n,saveFunc:i}),(0,r.jsx)(j,{switchMode:b,buttonText:_}),(0,r.jsx)(f,{hashTagObj:p,onItemClicked:h}),v?(0,r.jsx)(d,{check:e,currentWord:t,setCurrentWord:a,description:l}):(0,r.jsx)(m,{wordsList:c,saveWord:x,deleteWord:g}),(0,r.jsxs)("p",{children:["Get started by editing\xa0",(0,r.jsx)("code",{className:o().code,children:"src/app/page.tsx"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["By"," ",(0,r.jsx)(s(),{src:"/vercel.svg",alt:"Vercel Logo",className:o().vercelLogo,width:100,height:24,priority:!0})]})})]})})}},345:function(e){e.exports={main:"page_main__GlU4n",textBox:"page_textBox__YMtVq",wordsList:"page_wordsList__mSHEJ",hashTagList:"page_hashTagList__4HVRj",hashTag:"page_hashTag__l4I9r",hashTagSelected:"page_hashTagSelected__Jxar1",wordButton:"page_wordButton__XyYa_",description:"page_description__86bsR",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}},function(e){e.O(0,[986,971,938,744],function(){return e(e.s=8706)}),_N_E=e.O()}]);